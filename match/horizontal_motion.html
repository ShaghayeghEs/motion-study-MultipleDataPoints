<!DOCTYPE html>
<html>
  <head>
    <title>Horizontal Motion</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" href="../styles/dropdown.css" />
    <link rel="stylesheet" href="../styles/simple-style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="../libraries/d3.js"></script>
    <script src="../libraries/jquery-3.2.1.min.js"></script>
    <script src="../libraries/timeme.js"></script>
    <script type="text/javascript">
      var params = location.href.split("?")[1].split("&");
      url_data = {};
      for (ele of params) {
        ele = ele.split("=");
        url_data[ele[0]] = ele[1];
      }
      TimeMe.initialize({
        currentPageName: "horizontal motion", // page name
        idleTimeoutInSeconds: 15 // time before user considered idle
      });
    </script>
  </head>

  <body>
    <div id="mainContainer">
        <div id="chartContainer">
            <div id="chart"></div>
        </div>
        <div id="controlContainer">
            <div id="test">
                <!-- How many times larger is the <b>biggest circle </b> compared to the <b>smallest circle</b>? -->
                Click on the cell that has the <b>closest speed</b> to <b>A</b>.
            </div>
            <!-- <div id="ranger">
                <input type="range" class="slider" min="1" max="20" step="0.1" name="speed" id="value2" value="1" />
                <br /><br />
                &nbsp;&nbsp;Value: <span id="demo"></span>
            </div> -->
            <div id="last">
                <br />
                <!-- <button class="button" id="stop">Stop</button> -->
                <button class="button" id="submit">Submit</button>
                <br /><br /><br />
            </div>
            <div id="reminder">
              <br>
              You can use <kbd style="background-color: #eee;
              border-radius: 3px;
              border: 1px solid #b4b4b4;
              box-shadow:
                0 1px 1px rgba(0, 0, 0, 0.2),
                0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
              color: #333;
              display: inline-block;
              font-size: 0.85em;
              font-weight: 700;
              line-height: 1;
              padding: 2px 4px;
              white-space: nowrap;">Space bar</kbd> to stop/resume animation.

            </div>
        </div>
    </div>
    <script src="../scripts/horizontal_motion.js" type="module"></script>
    <!-- <script>
      // var slider = document.getElementById("value2");
      // var output = document.getElementById("demo");
      // output.innerHTML = slider.value;

      // slider.oninput = function() {
      //   output.innerHTML = this.value;
      // };
      function postMessage(timeSpentOnPage) {
        var dataToSend = {
          participant_id: url_data["id"],
          ratio: parseFloat(url_data["ratio"]),
          trial_number: parseInt(url_data["trial"]),
          time_spent: timeSpentOnPage,
          // participant_answer: slider.value,
          type_of_encoding: "horizontal motion",
        };

        $.ajax({
          type: "POST",
          url: "../json.php",
          data: JSON.stringify(dataToSend),
          contentType: "application/json",
          success: function(response) {
            console.log("Data sent successfully:", response);
            window.top.load_page();
          },
          error: function(error) {
            console.error("Error sending data:", error);
            // You may want to handle the error here, e.g., by displaying an error message to the user.
          },
        });
      }
      var btn = document.getElementById("submit");
      btn.onclick = function() {
        btn.disabled = true;
        //  btn.style.background = "#e8e7d8";
        var timeSpentOnPage = TimeMe.getTimeOnCurrentPageInSeconds();
        postMessage(timeSpentOnPage);
      };
    </script> -->
  </body>
</html>
